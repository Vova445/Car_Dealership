(()=>{"use strict";({386:function(){var e=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(s,d){function l(e){try{a(o.next(e))}catch(e){d(e)}}function i(e){try{a(o.throw(e))}catch(e){d(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,i)}a((o=o.apply(e,t||[])).next())}))};document.addEventListener("DOMContentLoaded",(()=>{const t=document.getElementById("profileIcon"),n=document.getElementById("modal-auth"),o=document.getElementById("closeModal"),s=document.getElementById("authTitle"),d=document.getElementById("authForm"),l=document.getElementById("toggleAuth"),i=document.getElementById("emailAuth"),a=document.getElementById("password"),c=document.getElementById("confirmPassword"),r=document.getElementById("username"),m=document.getElementById("usernameLabel"),u=document.getElementById("confirmPasswordLabel"),y=document.getElementById("submitButton"),g=()=>{null==d||d.reset()};t&&n&&o&&s&&d&&l&&i&&a&&c&&r&&m&&u&&y?(t.addEventListener("click",(()=>{n.classList.add("show"),document.body.classList.add("modal-open"),g()})),o.addEventListener("click",(()=>{const e=n.querySelector(".modal-content-auth");e.classList.add("hide"),setTimeout((()=>{n.classList.remove("show"),e.classList.remove("hide"),document.body.classList.remove("modal-open")}),500)})),l.addEventListener("click",(e=>{e.preventDefault();const t=d;t.classList.add("form-hide"),setTimeout((()=>{"Registration"===s.textContent?(s.textContent="Authorization",l.textContent="Registration",y.textContent="Sign In",m.style.display="none",u.style.display="none",r.style.display="none",c.style.display="none"):(s.textContent="Registration",l.textContent="Sign In",y.textContent="Register",m.style.display="block",u.style.display="block",r.style.display="block",c.style.display="block"),t.classList.remove("form-hide"),t.classList.add("form-transition")}),500),g()})),d.addEventListener("submit",(t=>e(void 0,void 0,void 0,(function*(){t.preventDefault();const e=null==i?void 0:i.value,o=null==a?void 0:a.value,d=null==c?void 0:c.value,l=null==r?void 0:r.value;if(!e||!o||"Registration"===(null==s?void 0:s.textContent)&&(!l||o!==d))return;const m="Registration"===(null==s?void 0:s.textContent)?"/register":"/login",u="Registration"===(null==s?void 0:s.textContent)?{email:e,password:o,username:l}:{email:e,password:o};try{const e=yield fetch(m,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)});if(e.ok){console.log("Registration"===(null==s?void 0:s.textContent)?"User registered":"User signed in");const e=n.querySelector(".modal-content-auth");e.classList.add("hide"),setTimeout((()=>{n.classList.remove("show"),e.classList.remove("hide"),document.body.classList.remove("modal-open")}),500)}else console.error("Error:",yield e.text())}catch(e){console.error("Network error:",e)}}))))):console.error("Some elements were not found on the page.")})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("visitBtn"),t=document.getElementById("modal-auth"),n=document.getElementById("closeModal"),o=document.getElementById("myModal"),s=document.getElementById("closeModalBtn");e&&t&&n&&o&&s?e.addEventListener("click",(()=>{o.style.display="none",t.classList.add("show"),document.body.classList.add("modal-open")})):console.error("Required elements not found")}))}})[386]()})();