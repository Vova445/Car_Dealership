(()=>{"use strict";({386:function(){var e=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(d,s){function l(e){try{i(o.next(e))}catch(e){s(e)}}function a(e){try{i(o.throw(e))}catch(e){s(e)}}function i(e){var t;e.done?d(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,a)}i((o=o.apply(e,t||[])).next())}))};document.addEventListener("DOMContentLoaded",(()=>{const t=document.getElementById("profileIcon"),n=document.getElementById("modal-auth"),o=document.getElementById("closeModal"),d=document.getElementById("authTitle"),s=document.getElementById("authForm"),l=document.getElementById("toggleAuth"),a=document.getElementById("emailAuth"),i=document.getElementById("password"),c=document.getElementById("confirmPassword"),m=document.getElementById("username"),r=document.getElementById("usernameLabel"),u=document.getElementById("confirmPasswordLabel"),y=document.getElementById("submitButton"),g=document.getElementById("modal-profile"),v=document.getElementById("closeProfileModal"),I=document.getElementById("profileUsername"),E=document.getElementById("profileEmail"),L=document.getElementById("logoutButton"),p=()=>{null==s||s.reset()},f=(e,t)=>{I&&E&&g&&(e&&(I.textContent=e),t&&(E.textContent=t),g.classList.add("show"),document.body.classList.add("modal-open"))},h=()=>{g&&((e,t)=>{const n=e.querySelector(t);n.classList.add("hide"),setTimeout((()=>{e.classList.remove("show"),n.classList.remove("hide"),document.body.classList.remove("modal-open")}),500)})(g,".modal-content-profile")};t&&n&&o&&d&&s&&l&&a&&i&&c&&m&&r&&u&&y&&g&&v&&I&&E&&L?(t.addEventListener("click",(()=>{const e=localStorage.getItem("loggedInUser");if(e){const{username:t,email:n}=JSON.parse(e);f(t,n)}else n.classList.add("show"),document.body.classList.add("modal-open"),p()})),o.addEventListener("click",(()=>{const e=null==n?void 0:n.querySelector(".modal-content-auth");e&&(e.classList.add("hide"),setTimeout((()=>{n.classList.remove("show"),e.classList.remove("hide"),document.body.classList.remove("modal-open")}),500))})),v.addEventListener("click",h),L.addEventListener("click",(()=>{localStorage.removeItem("loggedInUser"),h(),n.classList.add("show"),document.body.classList.add("modal-open")})),l.addEventListener("click",(e=>{e.preventDefault();const t=s;t.classList.add("form-hide"),setTimeout((()=>{"Registration"===d.textContent?(d.textContent="Authorization",l.textContent="Registration",y.textContent="Sign In",r.style.display="none",u.style.display="none",m.style.display="none",c.style.display="none"):(d.textContent="Registration",l.textContent="Sign In",y.textContent="Register",r.style.display="block",u.style.display="block",m.style.display="block",c.style.display="block"),t.classList.remove("form-hide"),t.classList.add("form-transition")}),500),p()})),s.addEventListener("submit",(t=>e(void 0,void 0,void 0,(function*(){t.preventDefault();const e=null==a?void 0:a.value,n=null==i?void 0:i.value,o=null==c?void 0:c.value,s=null==m?void 0:m.value;if(!e||!n||"Registration"===(null==d?void 0:d.textContent)&&(!s||n!==o))return;const l={username:s,email:e};localStorage.setItem("loggedInUser",JSON.stringify(l)),f(s,e),p()}))))):console.error("Some elements were not found on the page.")})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("visitBtn"),t=document.getElementById("modal-auth"),n=document.getElementById("myModal");e&&t&&n?e.addEventListener("click",(()=>{if(localStorage.getItem("loggedInUser")){n.style.display="none";const e=localStorage.getItem("loggedInUser");if(e){const{username:t,email:n}=JSON.parse(e);((e,t)=>{const n=document.getElementById("modal-profile"),o=document.getElementById("profileUsername"),d=document.getElementById("profileEmail");o&&d&&n&&(e&&(o.textContent=e),t&&(d.textContent=t),n.classList.add("show"),document.body.classList.add("modal-open"))})(t,n)}}else n.style.display="none",t.classList.add("show"),document.body.classList.add("modal-open")})):console.error("Required elements not found")}))}})[386]()})();